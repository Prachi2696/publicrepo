(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{10:function(e,t,o){e.exports=o.p+"static/media/click.cba35ec0.mp3"},12:function(e,t,o){e.exports=o.p+"static/media/bell.f3e1419d.mp3"},14:function(e,t,o){e.exports=o(25)},19:function(e,t,o){},25:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(9),c=o.n(r),l=(o(19),o(5)),i=o(1),s=o(2),m=o(4),u=o(3),d=o(13),p={printFromDateObject(e,t){var o=new Date(t);switch(e){case"hh:mm":default:var a=o.getHours(),n=o.getMinutes();return"".concat(a<10?"0":"").concat(a,":").concat(n<10?"0":"").concat(n)}},printFromSeconds(e){var t=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return"".concat(t<10?"0":"").concat(t,":").concat(o<10?"0":"").concat(o)}};var f=function(e){var t=e.duration,o=e.elapsedTime,r=Object(a.useState)("Pomodoro"),c=Object(d.a)(r,2),l=c[0],i=c[1];return Object(a.useEffect)((function(){i(p.printFromSeconds(t-o))}),[t,o]),Object(a.useEffect)((function(){document.title="".concat(l," | Pomodoro")}),[l]),n.a.createElement("span",{className:"font-mono text-7xl sm:text-9xl md:text-12xl"},l)},h=o(10),v=o.n(h),x=function(e){Object(m.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(i.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).audio=new Audio(v.a),e.handleClick=function(t){e.audio.play(),t()},e}return Object(s.a)(o,[{key:"render",value:function(){var e=this,t=this.props,o=t.handleStartStopTimer,a=t.handleResetTimer,r=t.hasStarted,c=t.showHistory;return n.a.createElement("div",{className:"grid max-w-sm grid-cols-3 gap-6"},n.a.createElement("div",{className:"flex flex-col items-center"},n.a.createElement("button",{className:"p-4 bg-orange-400 rounded-full focus:outline-none",style:r?{boxShadow:"#777 0px 0px 1px 1px, rgb(100, 100, 100) 0px 2px 7px -3px, rgb(100, 100, 100) 0px 3px 5px -4px, rgb(255, 191, 156) 0px 1px 3px 2px inset, rgb(122, 76, 50) 0px 0px 3px 2px inset"}:{boxShadow:"#777 0px 0px 1px 1px, rgb(100,100,100) 0px 7px 7px -3px, rgb(100,100,100) 0px 4px 5px -4px, rgb(255, 191, 156) 0px 2px 3px 2px inset, rgb(122, 76, 50) 0px 0px 3px 2px inset"},onClick:function(){return e.handleClick(o)},title:"Start/Stop"}),n.a.createElement("span",{className:"block mt-2 text-xs lowercase"},r?"Stop":"Start")),n.a.createElement("div",{className:"flex flex-col items-center"},n.a.createElement("button",{className:"p-4 bg-gray-300 rounded-full focus:outline-none gray-button",onClick:function(){return e.handleClick(a)},title:"Reset timer"}),n.a.createElement("span",{className:"block mt-2 text-xs lowercase"},"Reset")),n.a.createElement("div",{className:"flex flex-col items-center"},n.a.createElement("button",{className:"p-4 bg-gray-300 rounded-full focus:outline-none gray-button",onClick:function(){return e.handleClick(c)},title:"History"}),n.a.createElement("span",{className:"block mt-2 text-xs lowercase"},"History")))}}]),o}(a.PureComponent);var b=function(e){var t=e.name,o=e.duration,a=e.started;return n.a.createElement("tr",null,n.a.createElement("td",{className:"px-4 py-1"},t),n.a.createElement("td",{className:"px-4 py-1"},p.printFromSeconds(o)),n.a.createElement("td",{className:"px-4 py-1"},a))};var g=function(e){var t=e.pomos;return n.a.createElement("div",{className:"inline-block mb-4"},n.a.createElement("table",null,n.a.createElement("thead",{className:"text-left"},n.a.createElement("tr",null,n.a.createElement("th",{className:"px-4 py-1"},"Type"),n.a.createElement("th",{className:"px-4 py-1"},"Length"),n.a.createElement("th",{className:"px-4 py-1"},"Started"))),n.a.createElement("tbody",null,t.map((function(e){return n.a.createElement(b,{key:e.id,name:e.name,duration:e.duration,started:e.started})})))))};var y=function(e){var t=e.value,o=e.label,a=e.avg;return n.a.createElement("ul",{className:""},n.a.createElement("li",{className:""},t),n.a.createElement("li",{className:""},o),void 0!==a&&n.a.createElement("li",{className:"text-gray-500"},"avg. ",a))},w=o(11),E=o.n(w);function S(e){return e?(Object.keys(e).reduce((function(t,o){return t+e[o]}),0)/Object.keys(e).length).toFixed(1):0}function k(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}function O(e){var t=new Date(e);return"".concat(E()(t),", ").concat(t.getFullYear())}function P(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1)}var T=n.a.memo((function(e){var t,o=e.allPomodorosMade,a=function(e){return e.length?e.reduce((function(e,t){return e[k(t)]=e[k(t)]+1||1,e}),{}):0}(o),r=(t=a)?Object.keys(t).reduce((function(e,o){return e[O(o)]=(e[O(o)]||0)+t[o],e}),{}):0,c=function(e){return e?Object.keys(e).reduce((function(t,o){return t[P(o)]=(t[P(o)]||0)+e[o],t}),{}):0}(a),l=S(a),i=S(r),s=S(c),m=o.length,u=function(e){return e[k(Date.now())]||0}(a),d=r[O(Date.now())]||0,p=c[P(Date.now())]||0;return n.a.createElement("div",{className:"flex flex-col items-center mt-12 text-sm"},n.a.createElement(g,{pomos:e.pomos}),n.a.createElement("div",{className:"flex space-x-4 text-center"},n.a.createElement(y,{value:u,label:"Today",avg:l}),n.a.createElement(y,{value:d,label:"This Week",avg:i}),n.a.createElement(y,{value:p,label:" This Month",avg:s}),n.a.createElement(y,{value:m,label:"All time"})))}));function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var M=n.a.createElement("path",{d:"M14.435 12.973c.269 0 .492.133.686.396.192.265.294.588.294.975 0 .385-.102.711-.294.973-.193.265-.417.396-.686.396-.278 0-.522-.131-.715-.396-.192-.262-.294-.588-.294-.973 0-.387.102-.71.294-.975.192-.264.436-.396.715-.396m3.44-3.559c.746.811 1.125 1.795 1.125 2.953 0 .748-.086 1.423-.259 2.023-.175.597-.394 1.084-.654 1.459-.264.376-.588.705-.974.989-.386.286-.741.492-1.065.623-.325.132-.695.233-1.111.306-.417.071-.726.111-.943.123l-.685.014-.547.015c-.301.013-.56.016-.762.016s-.461-.003-.762-.016l-.547-.015-.685-.014c-.218-.012-.526-.052-.943-.123-.423-.072-.786-.174-1.111-.306-.324-.131-.68-.337-1.064-.623-.387-.284-.711-.613-.975-.989-.261-.375-.479-.862-.654-1.459-.173-.6-.259-1.275-.259-2.023 0-1.158.379-2.143 1.125-2.953-.082-.041-.085-.447-.008-1.217.063-.771.227-1.482.495-2.132.934.099 2.09.629 3.471 1.581.466-.119 1.101-.183 1.917-.183.852 0 1.491.064 1.918.184.629-.425 1.23-.771 1.805-1.034.584-.261 1.005-.416 1.269-.457l.396-.09c.27.649.434 1.36.496 2.132.076.769.073 1.175-.009 1.216m-5.845 7.82c1.688 0 2.954-.202 3.821-.607.855-.404 1.292-1.238 1.292-2.496 0-.73-.273-1.34-.822-1.828-.278-.263-.613-.425-.989-.486-.375-.061-.949-.061-1.72 0-.769.062-1.298.09-1.582.09-.385 0-.8-.018-1.319-.059-.52-.04-.928-.065-1.223-.078-.294-.009-.609.027-.958.108-.345.082-.629.224-.853.425-.521.469-.79 1.077-.79 1.828 0 1.258.426 2.092 1.28 2.496.85.405 2.113.607 3.802.607h.061m-2.434-4.261c.268 0 .492.133.685.396.192.265.294.588.294.975 0 .385-.102.711-.294.973-.192.265-.417.396-.685.396-.279 0-.522-.131-.716-.396-.192-.262-.294-.588-.294-.973 0-.387.102-.71.294-.975.193-.264.436-.396.716-.396"}),C=function(e){var t=e.svgRef,o=e.title,a=j(e,["svgRef","title"]);return n.a.createElement("svg",N({fill:"currentColor",baseProfile:"tiny",width:24,height:24,viewBox:"0 0 24 24",ref:t},a),o?n.a.createElement("title",null,o):null,M)},D=n.a.forwardRef((function(e,t){return n.a.createElement(C,N({svgRef:t},e))})),R=(o.p,function(e){Object(m.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return n.a.createElement("div",{className:"flex items-center mt-12 mb-8 space-x-8 text-sm"},n.a.createElement("p",null,"Made by"," ",n.a.createElement("a",{href:"https://estevanmaito.me",target:"_blank",rel:"noopener noreferrer"},"Estevan Maito")),n.a.createElement("a",{href:"https://github.com/estevanmaito/pomodoro",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400"},n.a.createElement(D,null)))}}]),o}(a.PureComponent)),A={create(e,t){var o=JSON.parse(localStorage.getItem(e)||"[]");o.push(t),localStorage.setItem(e,JSON.stringify(o))},read:e=>JSON.parse(localStorage.getItem(e)||"[]"),getTodaysPomodoros(){return this.read("pomodoro").filter((function(e){return new Date(e).getDate()===(new Date).getDate()}))},getAllTimePomodoros(){return this.read("pomodoro")||[]}},H=o(12),F=o.n(H),I=function(e){Object(m.a)(o,e);var t=Object(u.a)(o);function o(e){var a;return Object(i.a)(this,o),(a=t.call(this,e)).audio=new Audio(F.a),a.componentDidMount=function(){a.setState({allPomodorosMade:A.getAllTimePomodoros()})},a.componentWillUnmount=function(){window.clearInterval(a.state.interval)},a.handleHistoryVisibility=function(){a.setState((function(e){return{showHistory:!e.showHistory}}))},a.handleStartStopTimer=function(){a.state.hasStarted?window.confirm("This will stop and reset the CURRENT timer. Are you sure?")&&a.stopTimer():a.startTimer()},a.handleResetTimer=function(){window.confirm("This will STOP and CLEAR all current pomodoros. Are you sure?")&&a.resetTimer()},a.startTimer=function(){var e=window.setInterval((function(){if(a.state.elapsedTime===a.state.pomodoros[a.state.currentPomodoro].duration)return a.nextPomo();a.setState((function(e){return{elapsedTime:e.elapsedTime+1}}))}),1e3);a.savePomodoro(),a.setState({interval:e,hasStarted:!0})},a.stopTimer=function(){clearInterval(a.state.interval),a.setState((function(e){return{pomodoros:e.pomodoros.map((function(t,o){return o===e.currentPomodoro?Object(l.a)(Object(l.a)({},t),{},{started:void 0}):t})),elapsedTime:0,interval:void 0,hasStarted:!1}}))},a.resetTimer=function(){clearInterval(a.state.interval),a.setState({pomodoros:W,hasStarted:!1,elapsedTime:0,interval:void 0,currentPomodoro:0})},a.nextPomo=function(){if(a.alert(),a.state.pomodoros.length-1===a.state.currentPomodoro)return a.resetTimer();a.setState((function(e){return{elapsedTime:0,currentPomodoro:e.currentPomodoro+1}})),a.savePomodoro()},a.alert=function(){a.audio.play()},a.savePomodoro=function(){var e=a.state.pomodoros[a.state.currentPomodoro],t=Date.now(),o=[];"pomodoro"!==e.type&&a.state.hasStarted&&(A.create("pomodoro",t),o=A.getAllTimePomodoros()),a.setState((function(e){return{pomodoros:e.pomodoros.map((function(o,a){return a===e.currentPomodoro?Object(l.a)(Object(l.a)({},o),{},{started:p.printFromDateObject("hh:mm",t)}):o})),allPomodorosMade:o.length>0?o:e.allPomodorosMade}}))},a.state={pomodoros:W,showHistory:!1,hasStarted:!1,currentPomodoro:0,elapsedTime:0,interval:void 0,allPomodorosMade:[]},a}return Object(s.a)(o,[{key:"render",value:function(){var e=this.state.pomodoros[this.state.currentPomodoro],t="font-semibold text-gray-700 px-2 py-1";return n.a.createElement("div",{className:"flex flex-col items-center justify-center max-w-lg min-h-screen py-8 mx-auto text-gray-700"},n.a.createElement("div",{className:"mt-8 space-x-4"},n.a.createElement("span",{className:"pomodoro"===e.type?t:"font-semibold text-gray-300 px-2 py-1"},"Pomodoro"),n.a.createElement("span",{className:"pomodoro"===e.type?"font-semibold text-gray-300 px-2 py-1":t},"Break")),n.a.createElement(f,{duration:e.duration,elapsedTime:this.state.elapsedTime}),n.a.createElement(x,{hasStarted:this.state.hasStarted,handleStartStopTimer:this.handleStartStopTimer,handleResetTimer:this.handleResetTimer,showHistory:this.handleHistoryVisibility}),this.state.showHistory&&n.a.createElement(T,{pomos:this.state.pomodoros,allPomodorosMade:this.state.allPomodorosMade}),n.a.createElement(R,null))}}]),o}(a.Component),W=[{type:"pomodoro",name:"Pomodoro",id:1,duration:1500},{type:"break",name:"Short break",id:2,duration:300},{type:"pomodoro",name:"Pomodoro",id:3,duration:1500},{type:"break",name:"Short break",id:4,duration:300},{type:"pomodoro",name:"Pomodoro",id:5,duration:1500},{type:"break",name:"Short break",id:6,duration:300},{type:"pomodoro",name:"Pomodoro",id:7,duration:1500},{type:"break",name:"Long break",id:8,duration:900}],J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(I,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/publicrepo",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/publicrepo","/service-worker.js");J?(!function(e,t){fetch(e).then((function(o){404===o.status||-1===o.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):L(t,e)}))}}()}},[[14,1,2]]]);
//# sourceMappingURL=main.bf14fa3c.chunk.js.map